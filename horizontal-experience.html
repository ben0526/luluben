<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>Horizontal Scroll</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="assets/css/styles.css">
  <link rel="stylesheet" href="assets/css/styles2.css">
  <style>
    html, body {
      margin: 0; padding: 0; height: 100%; overflow-x: hidden;
      font-family: "Noto Sans TC", "Microsoft JhengHei", sans-serif;
      background: #f9f9f9;
      user-select: none;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
    }

    .horizontal-section {
      height: 100vh;
      width: 100vw;
      overflow: hidden;
      position: relative;
      cursor: grab;
      transform: translate(-50%, -50%);
      top: 50%;
      left: 50%;
    }
    .horizontal-section:active {
      cursor: grabbing;
    }

    .horizontal-track {
      display: flex;
      height: 100%;
      will-change: transform;
      transition: transform 0.1s ease-out;
    }

    .panel {
      min-width: 100vw;
      height: 100%;
      display: flex;
      justify-content: space-around;
      align-items: flex-start;
      flex-wrap: wrap;
      font-size: 2rem;
      color: var(--first-color);
      padding: 1rem 6rem;
      box-sizing: border-box;
      border-right: 1px solid #ccc;
      overflow: hidden;
    }
    .panel__content {
      width: 40%;
    }
    .panel__title {
      font-size: 3.2rem;
    }
    .panel__content p {
      font-size: 1rem;
      line-height: 1.5;
      color: #333;
    }    
    .panel__date{
      width: 100%;
      font-size: 6.5rem;
      color: #a0acb417;
      font-weight: bold;
    }
    .panel small {
      font-size: 1.4rem;
      color: #666;
      margin-top: 0.2em;
      font-weight: 400;
    }
    .panel__img {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 60%;
      height: 100%;
    }
    .panel img {
      width: 300px;
      max-width: 90vw;
      margin-top: 20px;
      object-fit: contain;
      pointer-events: none;
      user-select: none;
    }
  </style>
</head>
<body>
  <section class="horizontal-section">
    <div class="horizontal-track" id="track">
      <div class="panel panel__container">
        <div class="panel__date">2001/8~2003/2</div>
        <div class="panel__content">
          <div class="panel__title">æ˜“å­¸<br><small>flashå‹•ç•«å¸«</small></div>
          <p>æ™‚ä»»æ˜“å­¸ç¶²é è¨­è¨ˆå¸« èˆ‡ flashå‹•ç•«å¸«,è² è²¬èª²ç¨‹å‹•ç•«è£½ä½œï¼Œè¨­è¨ˆç•«é¢ä»‹é¢ï¼Œå‹•ç•«äº’å‹•è¼”åŠ©æ•™å…·è¨­è¨ˆã€‚é…åˆå¾Œå°æ©Ÿåˆ¶äº’å‹•ä¸²è¯è¨­è¨ˆã€‚</p>
        </div>
        <div class="panel__img"><img src="assets/img/featured1.png" alt="featured1"></div>
      </div>
      <div class="panel panel__container">
        <div class="panel__date">2003/2~2005/2</div>
        <div class="panel__content">
          <div class="panel__title">å¤ªæ˜“<br><small>å‹•ç•«å¸« + ç¶²é è¨­è¨ˆ</small></div>
          <p>å¤šåª’é«”éƒ¨é–€å°ˆä»»äº’å‹•å…‰ç¢Ÿæ•™å­¸èª²ç¨‹è£½ä½œï¼Œç›¸é—œéµåª½åª½äº’å‹•èª²ç¨‹éŠæˆ²ä»‹é¢è£½ä½œã€‚</p>
        </div>
        <div class="panel__img"><img src="assets/img/featured2.png" alt="featured1"></div>
      </div>
      <div class="panel panel__container">
        <div class="panel__date">2005/2~2006/5</div>
        <div class="panel__content">
          <div class="panel__title">éšæ¢¯<br><small>ç¶²é è¨­è¨ˆ</small></div>
          <p>äº’å­¸ç¶²ç¶²ç«™ç¶­è­·ï¼Œæ´»å‹•ä¼åŠƒæ¡ˆè¨­è¨ˆè£½ä½œï¼Œç›¸é—œæ•™ç¨‹é é¢ç¶­è­·ã€‚</p>
        </div>
        <div class="panel__img"><img src="assets/img/featured3.png" alt="featured1"></div>
      </div>
      <div class="panel panel__container">
        <div class="panel__date">2006/5~2008/6</div>
        <div class="panel__content">
          <div class="panel__title">åšç”Ÿ<br><small>ç¶²é è¨­è¨ˆ</small></div>
          <p>å…¬å¸ä¸»é«”å®¢æˆ¶è¡›ç”Ÿç½²ç¶²ç«™ç¶­è­·ä»¥åŠç½²åœ°ä¸‹ç›¸é—œæ´»å‹•ä¼åŠƒæ¡ˆè¨­è¨ˆè£½ä½œï¼Œä¹Ÿç¶­è­·ç›¸é—œé†«ç™‚ç”¢æ¥­ç¶²é è£½ä½œã€‚</p>
        </div>
        <div class="panel__img"><img src="assets/img/featured4.png" alt="featured1"></div>
      </div>
      <div class="panel panel__container">
        <div class="panel__date">2008/8~2025/8</div>
        <div class="panel__content">
          <div class="panel__title">é«˜é»<br><small>ç¶²é è¨­è¨ˆ</small></div>
          <p>ä¸»è¦è² è²¬ä¸»é«”ç‚ºè‡ªèº«è£œæ•™ç›¸é—œç¶²é å»¶ä¼¸è¨­è¨ˆï¼Œæ•™ç¨‹å¸«è³‡è€ƒå‰åšæ›¸ç±æ­¡å–œæ…§æ´»å‹•é é¢è¨­è¨ˆï¼Œç›¸é—œå¾®èª²èª²ç¨‹å®£å°è£½ä½œã€‚</p>
        </div>
        <div class="panel__img"><img src="assets/img/featured4.png" alt="featured1"></div>
      </div>
    </div>
  </section>

  <script>
  (() => {
    const track = document.getElementById('track');
    const panels = track.children;
    const panelCount = panels.length;

    let panelWidth = window.innerWidth;
    let currentX = 0;
    let velocity = 3;
    let isDragging = false;
    let isPausedByHover = false;
    let dragStartX = 0;
    let dragCurrentX = 0;
    let animationFrameId;

    function clamp(value, min, max) {
      return Math.min(Math.max(value, min), max);
    }

    function update() {
      if (!isDragging && !isPausedByHover) {
        currentX -= velocity;
        if (currentX < -panelWidth * (panelCount - 1)) {
          currentX = 0;
        }
        setTranslateX(currentX);
      }
      animationFrameId = requestAnimationFrame(update);
    }

    function setTranslateX(x) {
      track.style.transform = `translateX(${x}px)`;
    }

    function onDragStart(e) {
      isDragging = true;
      cancelAnimationFrame(animationFrameId);
      dragStartX = e.type.includes('touch') ? e.touches[0].clientX : e.clientX;
      dragCurrentX = currentX;
    }

    function onDragMove(e) {
      if (!isDragging) return;
      const clientX = e.type.includes('touch') ? e.touches[0].clientX : e.clientX;
      const deltaX = clientX - dragStartX;
      currentX = clamp(dragCurrentX + deltaX, -panelWidth * (panelCount - 1), 0);
      setTranslateX(currentX);
    }

    function onDragEnd() {
      isDragging = false;
      update();
    }

    // ğŸ”¥ æ»‘é¼ ç§»å…¥/ç§»å‡º æ§åˆ¶è‡ªå‹•æ»‘å‹•æš«åœ/ç¹¼çºŒ
    const section = document.querySelector('.horizontal-section');
    section.addEventListener('mouseenter', () => {
      isPausedByHover = true;
    });
    section.addEventListener('mouseleave', () => {
      isPausedByHover = false;
    });

    // æ»‘é¼ äº‹ä»¶
    track.addEventListener('mousedown', onDragStart);
    window.addEventListener('mousemove', onDragMove);
    window.addEventListener('mouseup', onDragEnd);

    // è§¸æ§äº‹ä»¶
    track.addEventListener('touchstart', onDragStart);
    window.addEventListener('touchmove', onDragMove);
    window.addEventListener('touchend', onDragEnd);

    // åˆå§‹åŒ–æ»‘å‹•
    update();

    // Resize
    window.addEventListener('resize', () => {
      panelWidth = window.innerWidth;
      currentX = clamp(currentX, -panelWidth * (panelCount - 1), 0);
      setTranslateX(currentX);
    });
  })();
</script>

</body>
</html>
